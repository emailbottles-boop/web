<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wizard City</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow-x: hidden;
  background: radial-gradient(circle at var(--mx,50%) var(--my,50%), #3b0066, #120018);
  font-family: Arial, sans-serif;
  color: #d6b3ff;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    repeating-linear-gradient(45deg, rgba(255,255,0,0.05) 0 2px, transparent 2px 20px),
    repeating-linear-gradient(-45deg, rgba(160,0,255,0.05) 0 2px, transparent 2px 25px);
  pointer-events: none;
  z-index: 0;
}

section {
  position: relative;
  z-index: 1;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px 20px;
}

.logo {
  width: 260px;
  max-width: 70vw;
  transition: transform 0.2s ease;
}

button {
  margin-top: 40px;
  padding: 18px 40px;
  font-size: 18px;
  border-radius: 40px;
  border: none;
  cursor: pointer;
  background: linear-gradient(90deg, #ffe600, #b300ff);
  color: #000;
}

button:hover {
  transform: scale(1.05);
}

.hidden {
  display: none;
}

input {
  padding: 14px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  width: 260px;
  margin-right: 10px;
}

.crypto-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 2;
}

.crypto-letter {
  position: absolute;
  font-size: clamp(60px, 10vw, 140px);
  font-weight: bold;
  color: rgba(255,255,255,0.15);
  animation: floatOut 5s ease-out forwards;
}

@keyframes floatOut {
  from { transform: scale(0.6) rotate(0deg); opacity: 0.9; }
  to { transform: scale(1.2) rotate(360deg); opacity: 0; }
}

.video {
  margin-top: 40px;
  max-width: 90%;
}

.caption {
  margin-top: 12px;
  font-size: 18px;
}

.merch {
  margin-top: 10px;
  color: #ffe600;
}
</style>
</head>

<body>

<div class="crypto-layer" id="crypto"></div>

<!-- HOME -->
<section id="home">
  <img src="capture.png" class="logo" id="logo">
  <button onclick="enterSite()">Enter</button>
</section>

<!-- CONTENT -->
<section id="content" class="hidden">

  <h2>Updates</h2>

  <div class="video">
    <a href="https://www.youtube.com/watch?v=H6cNCTofnrs" target="_blank">
      <img src="https://img.youtube.com/vi/H6cNCTofnrs/hqdefault.jpg" width="360">
    </a>
    <div class="caption">Christmas In Wizard City</div>
    <div class="merch">Merchandise coming soon!</div>
  </div>

  <form action="https://formspree.io/f/mrelgwzp" method="POST" style="margin-top:40px;">
    <input type="email" name="email" placeholder="Enter email for updates" required>
    <button type="submit">Submit</button>
  </form>

</section>

<script>
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
const crypto = document.getElementById("crypto");
let quadrant = 0;

// balanced chaos
function balancedPosition() {
  const w = window.innerWidth;
  const h = window.innerHeight;

  const zones = [
    [0, w/2, 0, h/2],
    [w/2, w, 0, h/2],
    [0, w/2, h/2, h],
    [w/2, w, h/2, h]
  ];

  const z = zones[quadrant];
  quadrant = (quadrant + 1) % zones.length;

  return {
    x: z[0] + Math.random() * (z[1] - z[0]),
    y: z[2] + Math.random() * (z[3] - z[2])
  };
}

function spawnLetter(char) {
  if (crypto.children.length > (isMobile ? 12 : 24)) return;

  const el = document.createElement("div");
  el.className = "crypto-letter";
  el.textContent = char;

  const p = balancedPosition();
  el.style.left = p.x + "px";
  el.style.top = p.y + "px";
  el.style.transform += Math.random() > 0.7 ? " rotate(180deg)" : "";

  crypto.appendChild(el);
  setTimeout(() => el.remove(), isMobile ? 4000 : 6000);
}

document.addEventListener("keydown", e => {
  if (document.activeElement.type === "email" && /^[a-zA-Z]$/.test(e.key)) {
    spawnLetter(e.key.toUpperCase());
  }
});

if (!isMobile) {
  document.addEventListener("mousemove", e => {
    document.body.style.setProperty("--mx", e.clientX + "px");
    document.body.style.setProperty("--my", e.clientY + "px");
    document.getElementById("logo").style.transform =
      `scale(1.05) translate(${(e.clientX/window.innerWidth-0.5)*10}px,
      ${(e.clientY/window.innerHeight-0.5)*10}px)`;
  });
}

function enterSite() {
  document.getElementById("home").classList.add("hidden");
  document.getElementById("content").classList.remove("hidden");
}
</script>

</body>
</html>
